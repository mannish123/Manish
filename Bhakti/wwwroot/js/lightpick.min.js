/**
* @author: Rinat G. http://coding.kz
* @copyright: Copyright (c) 2019 Rinat G.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
*/
(function(n,t){if(typeof define=="function"&&define.amd)define(["moment"],function(n){return t(n)});else if(typeof module=="object"&&module.exports){var i=typeof window!="undefined"&&typeof window.moment!="undefined"?window.moment:require("moment");module.exports=t(i)}else n.Lightpick=t(n.moment)})(this,function(n){"use strict";var t=window.document,e={field:null,secondField:null,firstDay:1,parentEl:"body",lang:"auto",format:"MM/DD/YYYY",separator:" - ",numberOfMonths:1,numberOfColumns:2,singleDate:!0,autoclose:!0,repick:!1,startDate:null,endDate:null,minDate:null,maxDate:null,disableDates:null,selectForward:!1,selectBackward:!1,minDays:null,maxDays:null,hoveringTooltip:!0,hideOnBodyClick:!0,footer:!1,disabledDatesInRange:!0,tooltipNights:!1,orientation:"auto",disableWeekends:!1,inline:!1,weekdayStyle:"short",dropdowns:{years:{min:1900,max:null},months:!0},locale:{buttons:{prev:"&leftarrow;",next:"&rightarrow;",close:"&times;",reset:"Reset",apply:"Apply"},tooltip:{one:"day",other:"days"},tooltipOnDisabled:null,pluralize:function(n,t){return(typeof n=="string"&&(n=parseInt(n,10)),n===1&&"one"in t)?t.one:"other"in t?t.other:""}},onSelect:null,onOpen:null,onClose:null,onError:null,onMonthsChange:null,onYearsChange:null},o=function(n){return'<div class="lightpick__toolbar"><button type="button" class="lightpick__previous-action">'+n.locale.buttons.prev+'<\/button><button type="button" class="lightpick__next-action">'+n.locale.buttons.next+"<\/button>"+(!n.autoclose&&!n.inline?'<button type="button" class="lightpick__close-action">'+n.locale.buttons.close+"<\/button>":"")+"<\/div>"},s=function(n,t,i){return new Date(1970,0,t,12,0,0,0).toLocaleString(n.lang,{weekday:i||n.weekdayStyle}).toString().substring(0,2)},u=function(i,r,u,f){var o,c,l,s,h;if(u)return"<div><\/div>";var r=n(r),a=n(r).subtract(1,"month"),v=n(r).add(1,"month"),e={time:n(r).valueOf(),className:["lightpick__day","is-available"]};if(f instanceof Array||Object.prototype.toString.call(f)==="[object Array]"?(f=f.filter(function(n){return["lightpick__day","is-available","is-previous-month","is-next-month"].indexOf(n)>=0}),e.className=e.className.concat(f)):e.className.push(f),i.disableDates)for(o=0;o<i.disableDates.length;o++)i.disableDates[o]instanceof Array||Object.prototype.toString.call(i.disableDates[o])==="[object Array]"?(c=n(i.disableDates[o][0],i.format),l=n(i.disableDates[o][1],i.format),c.isValid()&&l.isValid()&&r.isBetween(c,l,"day","[]")&&e.className.push("is-disabled")):n(i.disableDates[o],i.format).isValid()&&n(i.disableDates[o],i.format).isSame(r,"day")&&e.className.push("is-disabled"),e.className.indexOf("is-disabled")>=0&&(i.locale.tooltipOnDisabled&&(!i.startDate||r.isAfter(i.startDate)||i.startDate&&i.endDate)&&e.className.push("disabled-tooltip"),e.className.indexOf("is-start-date")>=0?(this.setStartDate(null),this.setEndDate(null)):e.className.indexOf("is-end-date")>=0&&this.setEndDate(null));return i.minDays&&i.startDate&&!i.endDate&&r.isBetween(n(i.startDate).subtract(i.minDays-1,"day"),n(i.startDate).add(i.minDays-1,"day"),"day")&&(e.className.push("is-disabled"),i.selectForward&&r.isSameOrAfter(i.startDate)&&(e.className.push("is-forward-selected"),e.className.push("is-in-range"))),i.maxDays&&i.startDate&&!i.endDate&&(r.isSameOrBefore(n(i.startDate).subtract(i.maxDays,"day"),"day")?e.className.push("is-disabled"):r.isSameOrAfter(n(i.startDate).add(i.maxDays,"day"),"day")&&e.className.push("is-disabled")),i.repick&&(i.minDays||i.maxDays)&&i.startDate&&i.endDate&&(s=n(i.repickTrigger==i.field?i.endDate:i.startDate),i.minDays&&r.isBetween(n(s).subtract(i.minDays-1,"day"),n(s).add(i.minDays-1,"day"),"day")&&e.className.push("is-disabled"),i.maxDays&&(r.isSameOrBefore(n(s).subtract(i.maxDays,"day"),"day")?e.className.push("is-disabled"):r.isSameOrAfter(n(s).add(i.maxDays,"day"),"day")&&e.className.push("is-disabled"))),r.isSame(new Date,"day")&&e.className.push("is-today"),r.isSame(i.startDate,"day")&&e.className.push("is-start-date"),r.isSame(i.endDate,"day")&&e.className.push("is-end-date"),i.startDate&&i.endDate&&r.isBetween(i.startDate,i.endDate,"day","[]")&&e.className.push("is-in-range"),n().isSame(r,"month")||(a.isSame(r,"month")?e.className.push("is-previous-month"):v.isSame(r,"month")&&e.className.push("is-next-month")),i.minDate&&r.isBefore(i.minDate,"day")&&e.className.push("is-disabled"),i.maxDate&&r.isAfter(i.maxDate,"day")&&e.className.push("is-disabled"),i.selectForward&&!i.singleDate&&i.startDate&&!i.endDate&&r.isBefore(i.startDate,"day")&&e.className.push("is-disabled"),i.selectBackward&&!i.singleDate&&i.startDate&&!i.endDate&&r.isAfter(i.startDate,"day")&&e.className.push("is-disabled"),i.disableWeekends&&(r.isoWeekday()==6||r.isoWeekday()==7)&&e.className.push("is-disabled"),e.className=e.className.filter(function(n,t,i){return i.indexOf(n)===t}),e.className.indexOf("is-disabled")>=0&&e.className.indexOf("is-available")>=0&&e.className.splice(e.className.indexOf("is-available"),1),h=t.createElement("div"),h.className=e.className.join(" "),h.innerHTML=r.get("date"),h.setAttribute("data-time",e.time),h.outerHTML},c=function(i,r){for(var f,o=n(i),u=t.createElement("select"),e=0;e<12;e++)o.set("month",e),f=t.createElement("option"),f.value=o.toDate().getMonth(),f.text=o.toDate().toLocaleString(r.lang,{month:"long"}),e===i.toDate().getMonth()&&f.setAttribute("selected","selected"),u.appendChild(f);return u.className="lightpick__select lightpick__select-months",u.dir="rtl",r.dropdowns&&r.dropdowns.months||(u.disabled=!0),u.outerHTML},l=function(i,r){var s=n(i),o=t.createElement("select"),u=r.dropdowns&&r.dropdowns.years?r.dropdowns.years:null,h=u&&u.min?u.min:1900,c=u&&u.max?u.max:Number.parseInt(n().format("YYYY")),f,e;for(Number.parseInt(i.format("YYYY"))<h&&(h=Number.parseInt(i.format("YYYY"))),Number.parseInt(i.format("YYYY"))>c&&(c=Number.parseInt(i.format("YYYY"))),f=h;f<=c;f++)s.set("year",f),e=t.createElement("option"),e.value=s.toDate().getFullYear(),e.text=s.toDate().getFullYear(),f===i.toDate().getFullYear()&&e.setAttribute("selected","selected"),o.appendChild(e);return o.className="lightpick__select lightpick__select-years",r.dropdowns&&r.dropdowns.years||(o.disabled=!0),o.outerHTML},r=function(t,i){for(var f,h,w,d,a,b,e,r="",p=n(i.calendar[0]),v=0;v<i.numberOfMonths;v++){for(f=n(p),r+='<section class="lightpick__month">',r+='<header class="lightpick__month-title-bar">',r+='<div class="lightpick__month-title">'+c(f,i)+l(f,i)+"<\/div>",i.numberOfMonths===1&&(r+=o(i,"days")),r+="<\/header>",r+='<div class="lightpick__days-of-the-week">',h=i.firstDay+4;h<7+i.firstDay+4;++h)r+='<div class="lightpick__day-of-the-week" title="'+s(i,h,"long")+'">'+s(i,h)+"<\/div>";if(r+="<\/div>",r+='<div class="lightpick__days">',f.isoWeekday()!==i.firstDay){var k=f.isoWeekday()-i.firstDay>0?f.isoWeekday()-i.firstDay:f.isoWeekday(),y=n(f).subtract(k,"day"),w=y.daysInMonth();for(e=y.get("date");e<=w;e++)r+=u(i,y,v>0,"is-previous-month"),y.add(1,"day")}for(w=f.daysInMonth(),d=new Date,e=0;e<w;e++)r+=u(i,f),f.add(1,"day");if(a=n(f),b=7-a.isoWeekday()+i.firstDay,b<7)for(e=a.get("date");e<=b;e++)r+=u(i,a,v<i.numberOfMonths-1,"is-next-month"),a.add(1,"day");r+="<\/div>";r+="<\/section>";p.add(1,"month")}i.calendar[1]=n(p);t.querySelector(".lightpick__months").innerHTML=r},i=function(n,t){var i=n.querySelectorAll(".lightpick__day");[].forEach.call(i,function(n){n.outerHTML=u(t,parseInt(n.getAttribute("data-time")),!1,n.className.split(" "))});f(n,t)},f=function(t,i){if(!i.disabledDatesInRange&&i.startDate&&!i.endDate&&i.disableDates){var e=t.querySelectorAll(".lightpick__day"),f=i.disableDates.map(function(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"?n[0]:n}),r=n(f.filter(function(t){return n(t).isBefore(i.startDate)}).sort(function(t,i){return n(i).isAfter(n(t))})[0]),u=n(f.filter(function(t){return n(t).isAfter(i.startDate)}).sort(function(t,i){return n(t).isAfter(n(i))})[0]);[].forEach.call(e,function(t){var f=n(parseInt(t.getAttribute("data-time")));(r&&f.isBefore(r)&&i.startDate.isAfter(r)||u&&f.isAfter(u)&&u.isAfter(i.startDate))&&(t.classList.remove("is-available"),t.classList.add("is-disabled"))})}},h=function(r){var u=this,f=u.config(r),e;u.el=t.createElement("section");u.el.className="lightpick lightpick--"+f.numberOfColumns+"-columns is-hidden";f.inline&&(u.el.className+=" lightpick--inlined");e='<div class="lightpick__inner">'+(f.numberOfMonths>1?o(f,"days"):"")+'<div class="lightpick__months"><\/div><div class="lightpick__tooltip" style="visibility: hidden"><\/div>';f.footer&&(e+='<div class="lightpick__footer">',f.footer===!0?(e+='<button type="button" class="lightpick__reset-action">'+f.locale.buttons.reset+"<\/button>",e+='<div class="lightpick__footer-message"><\/div>',e+='<button type="button" class="lightpick__apply-action">'+f.locale.buttons.apply+"<\/button>"):e+=f.footer,e+="<\/div>");e+="<\/div>";u.el.innerHTML=e;f.parentEl instanceof Node?f.parentEl.appendChild(u.el):f.parentEl==="body"&&f.inline?f.field.parentNode.appendChild(u.el):t.querySelector(f.parentEl).appendChild(u.el);u._onMouseDown=function(t){var f,r,e,o;if(u.isShowing&&(t=t||window.event,f=t.target||t.srcElement,f))if(t.stopPropagation(),f.classList.contains("lightpick__select")||t.preventDefault(),r=u._opts,f.classList.contains("lightpick__day")&&f.classList.contains("is-available")){if(e=n(parseInt(f.getAttribute("data-time"))),!r.disabledDatesInRange&&r.disableDates&&r.startDate){var s=e.isAfter(r.startDate)?n(r.startDate):n(e),h=e.isAfter(r.startDate)?n(e):n(r.startDate),c=r.disableDates.filter(function(t){if(t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"){var i=n(t[0]),r=n(t[1]);return i.isValid()&&r.isValid()&&(i.isBetween(s,h,"day","[]")||r.isBetween(s,h,"day","[]"))}return n(t).isBetween(s,h,"day","[]")});if(c.length){u.setStartDate(null);u.setEndDate(null);f.dispatchEvent(new Event("mousedown"));u.el.querySelector(".lightpick__tooltip").style.visibility="hidden";i(u.el,r);return}}r.singleDate||!r.startDate&&!r.endDate||r.startDate&&r.endDate?r.repick&&r.startDate&&r.endDate?(r.repickTrigger===r.field?(u.setStartDate(e),f.classList.add("is-start-date")):(u.setEndDate(e),f.classList.add("is-end-date")),r.startDate.isAfter(r.endDate)&&u.swapDate(),r.autoclose&&setTimeout(function(){u.hide()},100)):(u.setStartDate(e),u.setEndDate(null),f.classList.add("is-start-date"),r.singleDate&&r.autoclose?setTimeout(function(){u.hide()},100):(!r.singleDate||r.inline)&&i(u.el,r)):r.startDate&&!r.endDate&&(u.setEndDate(e),r.startDate.isAfter(r.endDate)&&u.swapDate(),f.classList.add("is-end-date"),r.autoclose?setTimeout(function(){u.hide()},100):i(u.el,r));r.disabledDatesInRange||u.el.querySelectorAll(".lightpick__day.is-available").length===0&&(u.setStartDate(null),i(u.el,r),r.footer&&(typeof u._opts.onError=="function"?u._opts.onError.call(u,"Invalid range"):(o=u.el.querySelector(".lightpick__footer-message"),o&&(o.innerHTML=r.locale.not_allowed_range,setTimeout(function(){o.innerHTML=""},3e3)))))}else f.classList.contains("lightpick__previous-action")?u.prevMonth():f.classList.contains("lightpick__next-action")?u.nextMonth():f.classList.contains("lightpick__close-action")||f.classList.contains("lightpick__apply-action")?u.hide():f.classList.contains("lightpick__reset-action")&&u.reset()};u._onMouseEnter=function(t){var r,i,f,o,e,h,s;if(u.isShowing&&(t=t||window.event,r=t.target||t.srcElement,r)){if(i=u._opts,r.classList.contains("lightpick__day")&&r.classList.contains("disabled-tooltip")&&i.locale.tooltipOnDisabled){u.showTooltip(r,i.locale.tooltipOnDisabled);return}if((u.hideTooltip(),!i.singleDate&&(i.startDate||i.endDate))&&(r.classList.contains("lightpick__day")||r.classList.contains("is-available"))&&(i.startDate&&!i.endDate||i.repick)){if(f=n(parseInt(r.getAttribute("data-time"))),!f.isValid())return;o=i.startDate&&!i.endDate||i.repick&&i.repickTrigger===i.secondField?i.startDate:i.endDate;e=u.el.querySelectorAll(".lightpick__day");[].forEach.call(e,function(t){var r=n(parseInt(t.getAttribute("data-time")));t.classList.remove("is-flipped");r.isValid()&&r.isSameOrAfter(o,"day")&&r.isSameOrBefore(f,"day")?(t.classList.add("is-in-range"),i.repickTrigger===i.field&&r.isSameOrAfter(i.endDate)&&t.classList.add("is-flipped")):r.isValid()&&r.isSameOrAfter(f,"day")&&r.isSameOrBefore(o,"day")?(t.classList.add("is-in-range"),(i.startDate&&!i.endDate||i.repickTrigger===i.secondField)&&r.isSameOrBefore(i.startDate)&&t.classList.add("is-flipped")):t.classList.remove("is-in-range");i.startDate&&i.endDate&&i.repick&&i.repickTrigger===i.field?t.classList.remove("is-start-date"):t.classList.remove("is-end-date")});i.hoveringTooltip&&(e=Math.abs(f.isAfter(o)?f.diff(o,"day"):o.diff(f,"day")),i.tooltipNights||(e+=1),h=u.el.querySelector(".lightpick__tooltip"),e>0&&!r.classList.contains("is-disabled")?(s="",typeof i.locale.pluralize=="function"&&(s=i.locale.pluralize.call(u,e,i.locale.tooltip)),u.showTooltip(r,e+" "+s)):u.hideTooltip());i.startDate&&i.endDate&&i.repick&&i.repickTrigger===i.field?r.classList.add("is-start-date"):r.classList.add("is-end-date")}}};u._onChange=function(n){n=n||window.event;var t=n.target||n.srcElement;t&&(t.classList.contains("lightpick__select-months")?(typeof u._opts.onMonthsChange=="function"&&u._opts.onMonthsChange.call(this,t.value),u.gotoMonth(t.value)):t.classList.contains("lightpick__select-years")&&(typeof u._opts.onYearsChange=="function"&&u._opts.onYearsChange.call(this,t.value),u.gotoYear(t.value)))};u._onInputChange=function(n){var t=n.target||n.srcElement;u._opts.singleDate&&(u._opts.autoclose||u.gotoDate(f.field.value));u.syncFields();u.isShowing||u.show()};u._onInputFocus=function(n){var t=n.target||n.srcElement;u.show(t)};u._onInputClick=function(n){var t=n.target||n.srcElement;u.show(t)};u._onClick=function(n){n=n||window.event;var i=n.target||n.srcElement,t=i;if(i){do if(t.classList&&t.classList.contains("lightpick")||t===f.field||f.secondField&&t===f.secondField)return;while(t=t.parentNode);u.isShowing&&f.hideOnBodyClick&&i!==f.field&&t!==f.field&&u.hide()}};u.showTooltip=function(n,t){var i=u.el.querySelector(".lightpick__tooltip"),h=u.el.classList.contains("lightpick--inlined"),r=n.getBoundingClientRect(),e=h?u.el.parentNode.getBoundingClientRect():u.el.getBoundingClientRect(),o=r.left-e.left+r.width/2,s=r.top-e.top,f;i.style.visibility="visible";i.textContent=t;f=i.getBoundingClientRect();s-=f.height;o-=f.width/2;setTimeout(function(){i.style.top=s+"px";i.style.left=o+"px"},10)};u.hideTooltip=function(){var n=u.el.querySelector(".lightpick__tooltip");n.style.visibility="hidden"};u.el.addEventListener("mousedown",u._onMouseDown,!0);u.el.addEventListener("mouseenter",u._onMouseEnter,!0);u.el.addEventListener("touchend",u._onMouseDown,!0);u.el.addEventListener("change",u._onChange,!0);f.inline?u.show():u.hide();f.field.addEventListener("change",u._onInputChange);f.field.addEventListener("click",u._onInputClick);f.field.addEventListener("focus",u._onInputFocus);f.secondField&&(f.secondField.addEventListener("change",u._onInputChange),f.secondField.addEventListener("click",u._onInputClick),f.secondField.addEventListener("focus",u._onInputFocus))};return h.prototype={config:function(t){var i=Object.assign({},e,t),r;return i.field=i.field&&i.field.nodeName?i.field:null,i.calendar=[n().set("date",1)],i.numberOfMonths===1&&i.numberOfColumns>1&&(i.numberOfColumns=1),i.minDate=i.minDate&&n(i.minDate,i.format).isValid()?n(i.minDate,i.format):null,i.maxDate=i.maxDate&&n(i.maxDate,i.format).isValid()?n(i.maxDate,i.format):null,i.lang==="auto"&&(r=navigator.language||navigator.userLanguage,i.lang=r?r:"en-US"),i.secondField&&i.singleDate&&(i.singleDate=!1),i.hoveringTooltip&&i.singleDate&&(i.hoveringTooltip=!1),Object.prototype.toString.call(t.locale)==="[object Object]"&&(i.locale=Object.assign({},e.locale,t.locale)),window.innerWidth<480&&i.numberOfMonths>1&&(i.numberOfMonths=1,i.numberOfColumns=1),i.repick&&!i.secondField&&(i.repick=!1),i.inline&&(i.autoclose=!1,i.hideOnBodyClick=!1),this._opts=Object.assign({},i),this.syncFields(),this.setStartDate(this._opts.startDate,!0),this.setEndDate(this._opts.endDate,!0),this._opts},syncFields:function(){if(this._opts.singleDate||this._opts.secondField)n(this._opts.field.value,this._opts.format).isValid()&&(this._opts.startDate=n(this._opts.field.value,this._opts.format)),this._opts.secondField&&n(this._opts.secondField.value,this._opts.format).isValid()&&(this._opts.endDate=n(this._opts.secondField.value,this._opts.format));else{var t=this._opts.field.value.split(this._opts.separator);t.length===2&&(n(t[0],this._opts.format).isValid()&&(this._opts.startDate=n(t[0],this._opts.format)),n(t[1],this._opts.format).isValid()&&(this._opts.endDate=n(t[1],this._opts.format)))}},swapDate:function(){var t=n(this._opts.startDate);this.setDateRange(this._opts.endDate,t)},gotoToday:function(){this.gotoDate(new Date)},gotoDate:function(t){var t=n(t,this._opts.format);t.isValid()||(t=n());t.set("date",1);this._opts.calendar=[n(t)];r(this.el,this._opts)},gotoMonth:function(n){isNaN(n)||(this._opts.calendar[0].set("month",n),r(this.el,this._opts))},gotoYear:function(n){isNaN(n)||(this._opts.calendar[0].set("year",n),r(this.el,this._opts))},prevMonth:function(){this._opts.calendar[0]=n(this._opts.calendar[0]).subtract(this._opts.numberOfMonths,"month");r(this.el,this._opts);f(this.el,this._opts)},nextMonth:function(){this._opts.calendar[0]=n(this._opts.calendar[1]);r(this.el,this._opts);f(this.el,this._opts)},updatePosition:function(){if(!this.el.classList.contains("lightpick--inlined")){this.el.classList.remove("is-hidden");var t=this._opts.field.getBoundingClientRect(),i=this.el.getBoundingClientRect(),n=this._opts.orientation.split(" "),r=0,u=0;n[0]!="auto"&&/top|bottom/.test(n[0])?(r=t[n[0]]+window.pageYOffset,n[0]=="top"&&(r-=i.height)):r=t.bottom+i.height>window.innerHeight&&window.pageYOffset>i.height?t.top+window.pageYOffset-i.height:t.bottom+window.pageYOffset;/left|right/.test(n[0])||n[1]&&n[1]!="auto"&&/left|right/.test(n[1])?(u=/left|right/.test(n[0])?t[n[0]]+window.pageXOffset:t[n[1]]+window.pageXOffset,(n[0]=="right"||n[1]=="right")&&(u-=i.width)):u=t.left+i.width>window.innerWidth?t.right+window.pageXOffset-i.width:t.left+window.pageXOffset;this.el.classList.add("is-hidden");this.el.style.top=r+"px";this.el.style.left=u+"px"}},setStartDate:function(t,i){var r=n(t,n.ISO_8601),u=n(t,this._opts.format);if(!r.isValid()&&!u.isValid()){this._opts.startDate=null;this._opts.field.value="";return}this._opts.startDate=n(r.isValid()?r:u);this._opts.field.value=this._opts.singleDate||this._opts.secondField?this._opts.startDate.format(this._opts.format):this._opts.startDate.format(this._opts.format)+this._opts.separator+"...";i||typeof this._opts.onSelect!="function"||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate())},setEndDate:function(t,i){var r=n(t,n.ISO_8601),u=n(t,this._opts.format);if(!r.isValid()&&!u.isValid()){this._opts.endDate=null;this._opts.secondField?this._opts.secondField.value="":!this._opts.singleDate&&this._opts.startDate&&(this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"...");return}this._opts.endDate=n(r.isValid()?r:u);this._opts.secondField?(this._opts.field.value=this._opts.startDate.format(this._opts.format),this._opts.secondField.value=this._opts.endDate.format(this._opts.format)):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+this._opts.endDate.format(this._opts.format);i||typeof this._opts.onSelect!="function"||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate())},setDate:function(n,t){this._opts.singleDate&&(this.setStartDate(n,t),this.isShowing&&i(this.el,this._opts))},setDateRange:function(n,t,r){this._opts.singleDate||(this.setStartDate(n,!0),this.setEndDate(t,!0),this.isShowing&&i(this.el,this._opts),r||typeof this._opts.onSelect!="function"||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()))},setDisableDates:function(n){this._opts.disableDates=n;this.isShowing&&i(this.el,this._opts)},getStartDate:function(){return n(this._opts.startDate).isValid()?this._opts.startDate:null},getEndDate:function(){return n(this._opts.endDate).isValid()?this._opts.endDate:null},getDate:function(){return n(this._opts.startDate).isValid()?this._opts.startDate:null},toString:function(t){return this._opts.singleDate?n(this._opts.startDate).isValid()?this._opts.startDate.format(t):"":n(this._opts.startDate).isValid()&&n(this._opts.endDate).isValid()?this._opts.startDate.format(t)+this._opts.separator+this._opts.endDate.format(t):n(this._opts.startDate).isValid()&&!n(this._opts.endDate).isValid()?this._opts.startDate.format(t)+this._opts.separator+"...":!n(this._opts.startDate).isValid()&&n(this._opts.endDate).isValid()?"..."+this._opts.separator+this._opts.endDate.format(t):""},show:function(n){this.isShowing||(this.isShowing=!0,this._opts.repick&&(this._opts.repickTrigger=n),this.syncFields(),this._opts.secondField&&this._opts.secondField===n&&this._opts.endDate?this.gotoDate(this._opts.endDate):this.gotoDate(this._opts.startDate),t.addEventListener("click",this._onClick),this.updatePosition(),this.el.classList.remove("is-hidden"),typeof this._opts.onOpen=="function"&&this._opts.onOpen.call(this),t.activeElement&&t.activeElement!=t.body&&t.activeElement.blur())},hide:function(){this.isShowing&&(this.isShowing=!1,t.removeEventListener("click",this._onClick),this.el.classList.add("is-hidden"),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden",typeof this._opts.onClose=="function"&&this._opts.onClose.call(this))},destroy:function(){var n=this._opts;this.hide();this.el.removeEventListener("mousedown",self._onMouseDown,!0);this.el.removeEventListener("mouseenter",self._onMouseEnter,!0);this.el.removeEventListener("touchend",self._onMouseDown,!0);this.el.removeEventListener("change",self._onChange,!0);n.field.removeEventListener("change",this._onInputChange);n.field.removeEventListener("click",this._onInputClick);n.field.removeEventListener("focus",this._onInputFocus);n.secondField&&(n.secondField.removeEventListener("change",this._onInputChange),n.secondField.removeEventListener("click",this._onInputClick),n.secondField.removeEventListener("focus",this._onInputFocus));this.el.parentNode&&this.el.parentNode.removeChild(this.el)},reset:function(){this.setStartDate(null,!0);this.setEndDate(null,!0);i(this.el,this._opts);typeof this._opts.onSelect=="function"&&this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate());this.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},reloadOptions:function(n){this._opts=Object.assign({},this._opts,n)}},h});